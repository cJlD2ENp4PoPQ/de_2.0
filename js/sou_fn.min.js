function number_format(e){var t,o,r;for(o="",t=e.toString(),j=0,r=t.length-1;r>=0;r--)o=t.charAt(r)+o,j++,3==j&&0!=r&&(j=0,o="."+o);return o}function in_array(e,t){var o=0;for(o=0;o<t.length;o++)if(e==t[o])return!0}function sec2time(e){return d=Math.floor(e/86400),e-=86400*d,h=Math.floor(e/3600),e-=3600*h,m=Math.floor(e/60),e-=60*m,h<10?o=d+":0"+h:o=d+":"+h,m<10?o=o+":0"+m:o=o+":"+m,o=e<10?o+":0"+e:o+":"+e,o}function load_content(e,t){$.getJSON("sou_ajaxrpc.php?getdata="+t,(function(t){alert(t[0].output),$(e).html(t[0].output)}))}function change_chatchannel(){$.getJSON("sou_ajaxrpc.php?changechatchannel=1",(function(e){e[0].newchatchannel>0?($("#chatchannelchanger").html('<font color="#4a91fc">Fraktion</font>'),$("#chatinputfield").css("color","#4a91fc")):($("#chatchannelchanger").html('<font color="#FFFFFF">Allgemein</font>'),$("#chatinputfield").css("color","#FFFFFF"))}))}function chat_input(){var e=$("#chatinputfield").val();return $("#chatinputfield").val(""),""===e||(e=(e=escape(e)).replace(/\+/g,"%2B"),$.getJSON("sou_ajaxrpc.php?chatinsert=1&insert="+e,(function(e){chatcounter=100}))),!1}function showmap2menu(e,t,o,r,s,n,i,c,l,h,m,d,f,u){var p,b,g,w=c*h,y=0+i*l;document.getElementById("ct_map").style.width=w+"px",document.getElementById("ct_map").style.height=y+"px";var x=0;for(ypos=r+14,row=1;row<=i;row++){for(xpos=o,col=1;col<=c;col++)p=1e3*row+10*col+m,b=0+row*l-l,g=col*h-h,sysname=f[3*x],fraction=f[3*x+1],targethblevel=f[3*x+2],0==fraction&&(fraction="-"),s1=e-xpos,s2=t-ypos,s1<0&&(s1*=-1),s2<0&&(s2*=-1),s1=Math.pow(s1,2),s2=Math.pow(s2,2),w1=s1+s2,w3=Math.sqrt(w1),distance=Math.round(100*w3)/100,w3>0?traveltime=Math.round(120+w3*s+120):traveltime=0,a="new Array('"+sysname+"','"+fraction+"','"+xpos+"','"+ypos+"','"+distance+"','"+traveltime+"','"+n+"','"+u+"','"+targethblevel+"')",document.write('<div id="map'+p+'"><img src="'+d+'b.gif" width="'+h+'" height="'+l+'" border="0" onmouseover="javascript:showinfo2('+a+')" onClick="javascript:settarget2('+a+')"></div>'),xpos+=1,x+=1;ypos-=1}for(x=0,document.write("<style type='text/css'>"),row=1;row<=i;row++)for(col=1;col<=c;col++)p=1e3*row+10*col+m,b=0+row*l-l,g=col*h-h,document.write("\x3c!--#map"+p+" {position: absolute;top: "+b+"px; left: "+g+"px; width: "+h+"px; height: "+l+"px; border: 0px; overflow: hidden; visibility: visible; z-index: "+p+"; } --\x3e ");document.write("</style>")}function showinfo2(e){s=e[5],d1=Math.floor(s/86400),s-=86400*d1,h=Math.floor(s/3600),s-=3600*h,m=Math.floor(s/60),s-=60*m,h<10?o=d1+":0"+h:o=d1+":"+h,m<10?o=o+":0"+m:o=o+":"+m,s<10?o=o+":0"+s:o=o+":"+s,parseFloat(e[4])>parseFloat(e[6])?(fca='<font color="#FF0000">',fce="</font>"):(fca="",fce=""),""==e[0]?str="Leerraum":str="Systemname: "+e[0]+" ("+e[1]+")",str=str+"<br>Koordinaten: "+e[2]+":"+e[3]+fca+"<br>Entfernung: "+e[4]+" LJ<br>&Uuml;berlichtantrieb-Reisezeit: "+o+fce,e[7]>0&&e[8]>0&&(s=7200-(60*e[7]+60*e[8]),d1=Math.floor(s/86400),s-=86400*d1,h=Math.floor(s/3600),s-=3600*h,m=Math.floor(s/60),s-=60*m,h<10?o=d1+":0"+h:o=d1+":"+h,m<10?o=o+":0"+m:o=o+":"+m,s<10?o=o+":0"+s:o=o+":"+s,str=str+'<br><font color="#00FF00">Hyperraumblasentransfer: '+o+"</font>"),document.getElementById("info").innerHTML=str}function settarget2(e){s=e[5],d1=Math.floor(s/86400),s-=86400*d1,h=Math.floor(s/3600),s-=3600*h,m=Math.floor(s/60),s-=60*m,h<10?o=d1+":0"+h:o=d1+":"+h,m<10?o=o+":0"+m:o=o+":"+m,s<10?o=o+":0"+s:o=o+":"+s,parseFloat(e[4])>parseFloat(e[6])?(fca='<font color="#FF0000">',fce="</font>"):(fca="",fce=""),""==e[0]?str="Leerraum":str="Systemname: "+e[0]+" ("+e[1]+")",str=str+"<br>Koordinaten: "+e[2]+":"+e[3]+fca+"<br>Entfernung: "+e[4]+" LJ<br>&Uuml;berlichtantrieb-Reisezeit: "+o+fce,e[7]>0&&e[8]>0&&(s=7200-(60*e[7]+60*e[8]),d1=Math.floor(s/86400),s-=86400*d1,h=Math.floor(s/3600),s-=3600*h,m=Math.floor(s/60),s-=60*m,h<10?o=d1+":0"+h:o=d1+":"+h,m<10?o=o+":0"+m:o=o+":"+m,s<10?o=o+":0"+s:o=o+":"+s,str=str+'<br><font color="#00FF00">Hyperraumblasentransfer: '+o+"</font>"),(parseFloat(e[4])<=parseFloat(e[6])&&parseFloat(e[4])>0||e[7]>0&&e[8]>0)&&(str=str+"<br><a href=sou_main.php?action=sectorpage&tx="+e[2]+"&ty="+e[3]+'><div class="b1" align="center">Start</div></a>'),str=str+"<br><a href=sou_main.php?action=sectorpage&rhtx="+e[2]+"&rhty="+e[3]+'><div class="b1" align="center">Reisehilfe</div></a>',document.getElementById("rz").innerHTML=str}function showmap2(e,t,o,r,s,a,n){var i,c,l,h=t*r,m=0+e*o;document.getElementById("ct_map").style.width=h+"px",document.getElementById("ct_map").style.height=m+"px";var d=0;for(row=1;row<=e;row++)for(col=1;col<=t;col++)"b"!=n[d]&&(i=1e3*row+10*col+s,c=0+row*o-o,l=col*r-r,document.write("<div id='map"+i+"'><img src='"+a+n[d]+".gif' width='"+r+"' height='"+o+"' border='0'></div>")),d+=1;for(d=0,document.write("<style type='text/css'>"),row=1;row<=e;row++)for(col=1;col<=t;col++)"b"!=n[d]&&(i=1e3*row+10*col+s,c=0+row*o-o,l=col*r-r,document.write("\x3c!--#map"+i+" {position: absolute;top: "+c+"px; left: "+l+"px; width: "+r+"px; height: "+o+"px; border: 0px; overflow: hidden; visibility: visible; z-index: "+i+"; } --\x3e ")),d+=1;document.write("</style>")}function montre(id){with(document)getElementById?getElementById(id).style.display="block":all?all[id].style.display="block":layers[id].display="block"}function cache(id){with(document)getElementById?getElementById(id).style.display="none":all?all[id].style.display="none":layers[id].display="none"}function counter(e,t,r,a){s=e,d=Math.floor(s/86400),s-=86400*d,h=Math.floor(s/3600),s-=3600*h,m=Math.floor(s/60),s-=60*m,h<10?o=d+":0"+h:o=d+":"+h,m<10?o=o+":0"+m:o=o+":"+m,s<10?o=o+":0"+s:o=o+":"+s,document.getElementById(r).innerHTML="Verbleibende Zeit: "+o,(e-=1)<0?document.getElementById(t).innerHTML=a:setTimeout("counter("+e+",'"+t+"','"+r+"','"+a+"')",1e3)}function init(thisCode){with(document.getElementById("nachricht").value){switch(thisCode){case"fett":insert("[b] [/b]");break;case"kursiv":insert("[i] [/i]");break;case"under":insert("[u] [/u]");break;case"center":insert("[center] [/center]");break;case"mail":insert("[email] [/email]");break;case"www":insert("[url] [/url]");break;case"pre":insert("[pre] [/pre]");break;case"bild":insert("[img] [/img]");break;case"rot":insert("[CROT]");break;case"gelb":insert("[CGELB]");break;case"gruen":insert("[CGRUEN]");break;case"weiss":insert("[CW]");break;case"blau":insert("[CDE]");break;case"farbe":insert("[color=#] [/color]");break;case"size":insert("[size=] [/size]");break;case"smile1":insert(":)");break;case"smile2":insert(":D");break;case"smile3":insert(";)");break;case"smile4":insert(":x");break;case"smile5":insert(":(");break;case"smile6":insert("x(");break;case"smile7":insert(":p");break;case"smile8":insert("(?)");break;case"smile9":insert("(!)");break;case"smile10":insert(":{");break;case"smile11":insert(":}");break;case"smile12":insert(":L");break;case"smile13":insert(":nene:");break;case"smile14":insert(":eek:");break;case"smile15":insert(":applaus:");break;case"smile16":insert(":cry:");break;case"smile17":insert(":sleep:");break;case"smile18":insert(":rolleyes:");break;case"smile19":insert(":wand:");break;case"smile20":insert(":dead:");break}document.getElementById("nachricht").focus()}}function hilfe(){window.open("hfnlegende.php","BitteBeachten","width=572,height=390,left=34,top=75")}function leeren(){document.getElementById("nachricht").value="",document.getElementById("nachricht").focus()}function cursor(){if("Netscape"==navigator.appName||-1!=navigator.userAgent.indexOf("Opera")||-1!=navigator.userAgent.indexOf("Netscape"))text_before=document.getElementById("nachricht").value,text_after="";else{document.getElementById("nachricht").focus();var e=document.selection.createRange();e.collapse();var t=e.duplicate(),o=e.duplicate();e.moveToElementText(document.getElementById("nachricht")),t.setEndPoint("StartToStart",e),o.setEndPoint("EndToEnd",e),text_before=t.text,text_after=o.text}}function insert(e){cursor(),document.getElementById("nachricht").value=text_before+e+text_after,document.getElementById("nachricht").focus()}