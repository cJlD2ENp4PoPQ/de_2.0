function updateNpcUI(e){document.getElementById("target_npc_accounts").innerHTML="";const t=document.getElementById("target_npc_accounts");e.data.forEach((e=>{let n=document.createElement("div");n.textContent=`ID: ${e.user_id}, Name: ${e.spielername}, Sektor: ${e.sector}, System: ${e.system}, Punkte: ${e.score}, Kollektoren: ${e.col}`,t.appendChild(n),n=document.createElement("div"),n.innerHTML=`<span onclick="openPage(${e.user_id}, 'resource.php')">Ressourcen</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'resource.php', {b_col: 1})">baue einen Kollektor</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'sector.php')">Sektor</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'military.php')">Milit√§r</span>`,n.innerHTML+=` - <span onclick="getUserFleet(${e.user_id})">Flotten</span>`,n.innerHTML+=` - <span onclick="getSectorStatus(${e.user_id})">Sektorstatus</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'missions.php')">Missionen</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'production.php')">Produktion</span>`,n.innerHTML+=` - <span onclick="openPage(${e.user_id}, 'hyperfunk.php')">Hyperfunk</span><br><br>`,t.appendChild(n)}))}function updateGameOutputUI(e){document.getElementById("target_gameoutput").innerHTML=e}async function getAllNpcUsers(){const e=await fetch("../api/",{method:"POST",headers:{"Content-Type":"application/json","X-DE-API-KEY":env_api_key},body:JSON.stringify({action:"getAllNpcUsers"})});updateNpcUI(await e.json())}async function getUserFleet(e){const t=await fetch("../api/",{method:"POST",headers:{"Content-Type":"application/json","X-DE-API-KEY":env_api_key},body:JSON.stringify({action:"getUserFleet",user_id:e})}),n=await t.json();document.getElementById("target_json_output").innerText=JSON.stringify(n,null,2)}async function getSectorStatus(e){const t=await fetch("../api/",{method:"POST",headers:{"Content-Type":"application/json","X-DE-API-KEY":env_api_key},body:JSON.stringify({action:"getSectorStatus",user_id:e})}),n=await t.json();document.getElementById("target_json_output").innerText=JSON.stringify(n,null,2)}async function getServerData(){const e=await fetch("../api/",{method:"POST",headers:{"Content-Type":"application/json","X-DE-API-KEY":env_api_key},body:JSON.stringify({action:"getServerData"})}),t=await e.json();document.getElementById("target_json_output").innerText=JSON.stringify(t,null,2)}async function openPage(e,t,n=Array()){await fetch("../api/",{method:"POST",headers:{"Content-Type":"application/json","X-DE-API-KEY":env_api_key},body:JSON.stringify({action:"openPage",user_id:e,filename:t,requestData:n})}).then((e=>e.text())).then((e=>{const t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t);document.getElementById("target_gameoutput").src=n}))}getAllNpcUsers();